<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
	rel="stylesheet"/>
<link rel="stylesheet" type="text/css" href="../static/style.css"
	th:href="@{style.css}" />

<title>Transfer</title>

</head>
<body class="mx-auto">
	<div class="container border border-dark mx-auto">

		<!-- Banner -->
		<div class="row align-items-center bg-dark">
			<p class="text-center text-white my-2">Pay My Buddy</p>
		</div>
		<div class="row">
			<div class="col-3 green_context rounded">Pay My Buddy</div>

			<div class="col-9">
				<ul class="nav justify-content-end">
					<li class="mx-1"><a th:href="@{home(id=${user.id})}">Home</a></li>
					<li class="mx-1 text-primary">Transfer</li>
					<li class="mx-1"><a th:href="@{account(id=${user.id})}">Account</a></li>
					<li class="mx-1"><a th:href="@{profile(id=${user.id})}">Profile</a></li>
					<li class="mx-1"><a th:href="@{contact(id=${user.id})}">Contact</a></li>
					<li class="mx-1"><a th:href="@{/}">Log off</a></li>
				</ul>
			</div>
		</div>
		<div class="bg-light">
			<span class="mx-1">
				<a th:href="@{home(id=${user.id})}">Home /</a>
			</span>
			<span class="mx-1">Transfer</span>
		</div>

		<!-- Title and Add Connection box -->
		<div class="row col-md-8 col-xs-12 d-flex justify-content-between mx-auto my-4">
			<div class="col-5 fs-5 d-flex align-items-center">
				<span>Send Money</span>
			</div>
			<div class="col-3 bg-primary text-white rounded py-2">
				<a class="text-center text-white" th:href="@{buddies(id=${user.id})}">Add Connection</a>
			</div>
		</div>
		
		
		<!-- Send Money box -->
		<div class="row col-md-8 col-xs-12 bg-light mx-auto py-4">
			<form method="post" th:action="@{sendOperation(id=${user.id})}" th:object="${sendMoneyDTO}">
				<div class="row d-flex justify-content-around">
					<div class="col-3 dropdow">
						<select class="w-100" th:field="*{buddyId}">
							<option value="0">Select a Connection</option>
		                    <option th:each="b:${buddyList}"
		                            th:value="${b.id}"
		                            th:utext="${b.buddyName}"/>
		                 </select>
					</div>
					<div class="col-3">
						<input type="number" th:field="*{amount}"/>
					</div>
					<div class="col-3">
						<button type="submit" class="green_context text-white rounded w-100">Pay</button>
					</div>
				</div>
				<div class="row">
					<input class="col-10 mx-auto mt-4" type="text" placeholder="Description" th:field="*{description}"/>
				</div>
			</form>
		</div>
		
		
		<!-- My activities table -->
		<div class="row col-md-8 col-xs-12 mx-auto my-4">
			<p class="fs-5 mb-0">My transactions</p>
			<table class="table table-striped border border-secondary text-center">
				<thead>
					<tr class="green_context">
						<th>Connections</th>
						<th>Description</th>
						<th>Amount</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="act:${transactions}">
						<td th:text="${act.buddyName}">Buddy name</td>
						<td th:text="${act.description}">Description</td>
						<td>
							<span th:text="${act.amount}">Amount</span>
							<span>&#8364;</span>
						</td>
					</tr>
				</tbody>
			</table>
		
		</div>
		
	</div>

	<!-- Bootstrap JS bundle -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>